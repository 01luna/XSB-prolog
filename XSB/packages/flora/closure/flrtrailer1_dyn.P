/*** closure/flrtrailer1_dyn.P: appended automatically by the FLORA compiler
     to DYNAMIC code when equality maintenance is ENABLED 
 ***/


/*****************************************************************************
  closure rules for X::Y
*****************************************************************************/
:- table STD_FPREFIX(subclass)/2.
:- table STD_FPREFIX(strict_subclass)/2.

STD_FPREFIX(subclass)(X,X) :- STD_FPREFIX(exists)(X).
STD_FPREFIX(subclass)(X,Y) :- STD_FPREFIX(strict_subclass)(X,Y).

%% Using flora_subclass can be a major source of inefficiency
%% In most cases, you want to use '_$_$_flora_strict_subclass'
STD_FPREFIX(strict_subclass)(X,Y) :- STD_FPREFIX(sub)(X,Y),  X \= Y.

STD_FPREFIX(strict_subclass)(X,Y) :-
	STD_FPREFIX(strict_subclass)(X,Z), 
	STD_FPREFIX(strict_subclass)(Z,Y),
	%%(X \= Z -> true ; Z\=Y),
	(   X = Y
	->  STD_FPREFIX(warning_nl)('cyclic subclass hierarchy, %S::%S::%S',
			     args(X,Z,Y))
	;   true
	).


/*****************************************************************************
  closure rules for X:Y, X::Z implies X:Z
*****************************************************************************/
:- table STD_FPREFIX(isa)/2.

STD_FPREFIX(isa)(O,C) :-
	STD_FPREFIX(strict_subclass)(C1,C),
	STD_FPREFIX(isa)(O,C1).


/*****************************************************************************
  rules for monotonic inheritance of signatures
*****************************************************************************/
:- table STD_FPREFIX(fs)/3.
:- table STD_FPREFIX(mvs)/3.
:- table STD_FPREFIX(ifs)/3.
:- table STD_FPREFIX(imvs)/3.

%% Instance
STD_FPREFIX(fs)(O,MethodArgs,R) :-
	STD_FPREFIX(fs)(Class,MethodArgs,R),
	( STD_FPREFIX(isa)(O,Class)
	  ;
	  STD_FPREFIX(eql)(Class,C), STD_FPREFIX(isa)(O,C)
	).
STD_FPREFIX(ifs)(O,MethodArgs,R) :-
	STD_FPREFIX(ifs)(Class,MethodArgs,R),
	( STD_FPREFIX(isa)(O,Class)
	  ;
	  STD_FPREFIX(eql)(Class,C), STD_FPREFIX(isa)(O,C)
	).

STD_FPREFIX(mvs)(O,MethodArgs,R) :-
	STD_FPREFIX(mvs)(Class,MethodArgs,R),
	( STD_FPREFIX(isa)(O,Class)
	  ;
	  STD_FPREFIX(eql)(Class,C), STD_FPREFIX(isa)(O,C)
	).
STD_FPREFIX(imvs)(O,MethodArgs,R) :-
	STD_FPREFIX(imvs)(Class,MethodArgs,R),
	( STD_FPREFIX(isa)(O,Class)
	  ;
	  STD_FPREFIX(eql)(Class,C), STD_FPREFIX(isa)(O,C)
	).

%% Subclass
STD_FPREFIX(fs)(Sub,MethodArgs,R) :-
	STD_FPREFIX(fs)(Class,MethodArgs,R),
	( STD_FPREFIX(strict_subclass)(Sub,Class)
	  ;
	  STD_FPREFIX(eql)(Class,S), STD_FPREFIX(strict_subclass)(Sub,S)
	).
STD_FPREFIX(ifs)(Sub,MethodArgs,R) :-
	STD_FPREFIX(ifs)(Class,MethodArgs,R),
	( STD_FPREFIX(strict_subclass)(Sub,Class)
	  ;
	  STD_FPREFIX(eql)(Class,S), STD_FPREFIX(strict_subclass)(Sub,S)
	).

STD_FPREFIX(mvs)(Sub,MethodArgs,R) :-
	STD_FPREFIX(mvs)(Class,MethodArgs,R),
	( STD_FPREFIX(strict_subclass)(Sub,Class)
	  ;
	  STD_FPREFIX(eql)(Class,S), STD_FPREFIX(strict_subclass)(Sub,S)
	).
STD_FPREFIX(imvs)(Sub,MethodArgs,R) :-
	STD_FPREFIX(imvs)(Class,MethodArgs,R),
	( STD_FPREFIX(strict_subclass)(Sub,Class)
	  ;
	  STD_FPREFIX(eql)(Class,S), STD_FPREFIX(strict_subclass)(Sub,S)
	).


/*****************************************************************************
  rules for nonmonotonic inheritance of behavior
*****************************************************************************/

:- table STD_FPREFIX(fd)/3.
:- table STD_FPREFIX(mvd)/3.
:- table STD_FPREFIX(ifd)/3.
:- table STD_FPREFIX(imvd)/3.
:- table STD_FPREFIX(defined_fd)/2.
:- table STD_FPREFIX(defined_mvd)/2.
:- table STD_FPREFIX(defined_ifd)/2.
:- table STD_FPREFIX(defined_imvd)/2.
:- table STD_FPREFIX(overwritten_fd)/3.
:- table STD_FPREFIX(overwritten_mvd)/3.
:- table STD_FPREFIX(overwritten_ifd)/3.
:- table STD_FPREFIX(overwritten_imvd)/3.
:- table STD_FPREFIX(conflict_fd)/3.
:- table STD_FPREFIX(conflict_ifd)/3.
:- table STD_FPREFIX(conflict_mvd)/3.
:- table STD_FPREFIX(conflict_imvd)/3.


STD_FPREFIX(fd)(Object,Method,Value) :-
	%% If Object,Method are ground, check if Object[Method->...]
	%% is defined right away --an optimization
	(ground(Object), ground(Method) ->
	    tnot(STD_FPREFIX(defined_fd)(Object,Method)),
	    STD_FPREFIX(isa)(Object,Class),
	    STD_FPREFIX(ifd)(Class,Method,Value)
	  ;
	    STD_FPREFIX(isa)(Object,Class),
	    STD_FPREFIX(ifd)(Class,Method,Value),
	    ground(Object), ground(Method),
	    tnot(STD_FPREFIX(defined_fd)(Object,Method))
	),
	ground(Class),
	tnot(STD_FPREFIX(overwritten_fd)(Object,Class,Method)),
	ground(Class),
	tnot(STD_FPREFIX(conflict_fd)(Object,Class,Method)).

/* Should we add '_$_$_flora_eql' everywhere? Why not make '_$_$_flora_isa',
    '_$_$_flora_strict_subclass', '_$_$_flora_ifd', etc. friendly to eql, 
   so that we won''t need to check for equality everywhere?
   We need to take care of equality in these rules below.
*/
STD_FPREFIX(defined_fd)(Object,Method) :-
	STD_FPREFIX(fd)(Object,Method,_).

STD_FPREFIX(overwritten_fd)(Object,Class,Method) :-
	STD_FPREFIX(isa)(Object,SubClass),
	STD_FPREFIX(strict_subclass)(SubClass,Class),
	STD_FPREFIX(ifd)(SubClass,Method,_).

%% When this is called, Object always belongs to Class
STD_FPREFIX(conflict_fd)(Object,Class,Method) :-
	STD_FPREFIX(defined_ifd)(Class1,Method),
	ground(Class1), ground(Class),
	Class \= Class1,
	STD_FPREFIX(isa)(Object,Class1),
	tnot(STD_FPREFIX(strict_subclass)(Class1,Class)),
	tnot(STD_FPREFIX(strict_subclass)(Class,Class1)).


STD_FPREFIX(mvd)(Object,Method,Value) :-
	(ground(Object), ground(Method) ->
	    tnot(STD_FPREFIX(defined_mvd)(Object,Method)),
	    STD_FPREFIX(isa)(Object,Class),
	    STD_FPREFIX(imvd)(Class,Method,Value)
	  ;
	    STD_FPREFIX(isa)(Object,Class),
	    STD_FPREFIX(imvd)(Class,Method,Value),
	    ground(Object), ground(Method),
	    tnot(STD_FPREFIX(defined_mvd)(Object,Method))
	),
	ground(Class),
	tnot(STD_FPREFIX(overwritten_mvd)(Object,Class,Method)),
	ground(Class),
	tnot(STD_FPREFIX(conflict_mvd)(Object,Class,Method)).

STD_FPREFIX(defined_mvd)(Object,Method) :-
	STD_FPREFIX(mvd)(Object,Method,_).

STD_FPREFIX(overwritten_mvd)(Object,Class,Method) :-
	STD_FPREFIX(isa)(Object,SubClass),
	STD_FPREFIX(strict_subclass)(SubClass,Class),
	STD_FPREFIX(imvd)(SubClass,Method,_).

STD_FPREFIX(conflict_mvd)(Object,Class,Method) :-
	STD_FPREFIX(defined_imvd)(Class1,Method),
	ground(Class1), ground(Class),
	Class \= Class1,
	STD_FPREFIX(isa)(Object,Class1),
	tnot(STD_FPREFIX(strict_subclass)(Class1,Class)),
	tnot(STD_FPREFIX(strict_subclass)(Class,Class1)).


STD_FPREFIX(ifd)(Class,Method,Value) :-
	(ground(Class), ground(Method) ->
	    tnot(STD_FPREFIX(defined_ifd)(Class,Method)),
	    STD_FPREFIX(strict_subclass)(Class,Super),
	    STD_FPREFIX(ifd)(Super,Method,Value)
	  ;
	    STD_FPREFIX(strict_subclass)(Class,Super),
	    STD_FPREFIX(ifd)(Super,Method,Value),
	    ground(Class), ground(Method),
	    tnot(STD_FPREFIX(defined_ifd)(Class,Method))
	),
	ground(Super),
	tnot(STD_FPREFIX(overwritten_ifd)(Class,Super,Method)),
	ground(Super),
	tnot(STD_FPREFIX(conflict_ifd)(Class,Super,Method)).

STD_FPREFIX(defined_ifd)(Class,Method) :-
	STD_FPREFIX(ifd)(Class,Method,_).

STD_FPREFIX(overwritten_ifd)(Class,Super,Method) :-
	STD_FPREFIX(strict_subclass)(Class,S),
	STD_FPREFIX(strict_subclass)(S,Super),
	STD_FPREFIX(ifd)(S,Method,_).

%% Note: when this is called, Class is always a subclass of Super
STD_FPREFIX(conflict_ifd)(Class,Super,Method) :-
	STD_FPREFIX(defined_ifd)(Super1,Method),
	ground(Super1), ground(Super),
	Super1 \= Super,
	STD_FPREFIX(strict_subclass)(Class,Super1),
	tnot(STD_FPREFIX(strict_subclass)(Super1,Super)),
	tnot(STD_FPREFIX(strict_subclass)(Super,Super1)).


STD_FPREFIX(imvd)(Class,Method,Value) :-
	(ground(Class), ground(Method) ->
	    tnot(STD_FPREFIX(defined_imvd)(Class,Method)),
	    STD_FPREFIX(strict_subclass)(Class,Super),
	    STD_FPREFIX(imvd)(Super,Method,Value)
	  ;
	    STD_FPREFIX(strict_subclass)(Class,Super),
	    STD_FPREFIX(imvd)(Super,Method,Value),
	    ground(Class), ground(Method),
	    tnot(STD_FPREFIX(defined_imvd)(Class,Method))
	),
	ground(Super),
	tnot(STD_FPREFIX(overwritten_imvd)(Class,Super,Method)),
	ground(Super),
	tnot(STD_FPREFIX(conflict_imvd)(Class,Super,Method)).

STD_FPREFIX(defined_imvd)(Class,Method) :-
	STD_FPREFIX(imvd)(Class,Method,_).

STD_FPREFIX(overwritten_imvd)(Class,Super,Method) :-
	STD_FPREFIX(strict_subclass)(Class,S),
	STD_FPREFIX(strict_subclass)(S,Super),
	STD_FPREFIX(imvd)(S,Method,_).

%% Note: when this is called, Class is always a subclass of Super
STD_FPREFIX(conflict_imvd)(Class,Super,Method) :-
	STD_FPREFIX(defined_imvd)(Super1,Method),
	ground(Super1), ground(Super),
	Super1 \= Super,
	STD_FPREFIX(strict_subclass)(Class,Super1),
	tnot(STD_FPREFIX(strict_subclass)(Super1,Super)),
	tnot(STD_FPREFIX(strict_subclass)(Super,Super1)).


/*****************************************************************************
  rules for congruence due to single-valued methods
*****************************************************************************/
:- table STD_FPREFIX(eql)/2.
:- table STD_FPREFIX(metheql)/2.

STD_FPREFIX(eql)(X,Y) :-
	STD_FPREFIX(fd)(O,M1,X),
	(M1=M2 ; STD_FPREFIX(metheql)(M1,M2)),
	STD_FPREFIX(fd)(O,M2,Y),
	not X=Y.

STD_FPREFIX(eql)(X,Y) :-
	STD_FPREFIX(eql)(O1,O2),
	STD_FPREFIX(fd)(O1,M1,X),
	(M1=M2 ; STD_FPREFIX(metheql)(M1,M2)),
	STD_FPREFIX(fd)(O2,M2,Y),
	not X=Y.

STD_FPREFIX(eql)(X,Y) :-
	STD_FPREFIX(eql)(X,Z),
	STD_FPREFIX(eql)(Z,Y),
	not X=Y.


STD_FPREFIX(metheql)(X,Y) :-
	( nonvar(X) ->
	    functor(X,'flora_@',N), N >= 1,
	    functor(Y,'flora_@',N)

	  ; nonvar(Y) ->
	    functor(Y,'flora_@',N), N >= 1,
	    functor(X,'flora_@',N)
	),
	STD_FPREFIX(argeql)(X,Y,N),
	not X=Y.


STD_FPREFIX(argeql)(_,_,0).

STD_FPREFIX(argeql)(X,Y,N) :-
	N >= 1,
	arg(N,X,Xn),
	arg(N,Y,Yn),
	(Xn=Yn ; STD_FPREFIX(eql)(Xn,Yn)),
	M is N-1,
	STD_FPREFIX(argeql)(X,Y,M).


/*****************************************************************************
  rules for object existence and empty result sets
*****************************************************************************/
:- table STD_FPREFIX(exists)/1.
:- table STD_FPREFIX(mvd)/2.
:- table STD_FPREFIX(imvd)/2.

STD_FPREFIX(exists)(X) :- STD_FPREFIX(fd)(X,_,_).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(fd)(_,_,X).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(mvd)(X,_,_).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(mvd)(_,_,X).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(ifd)(X,_,_).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(ifd)(_,_,X).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(imvd)(X,_,_).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(imvd)(_,_,X).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(isa)(X,_).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(isa)(_,X).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(sub)(X,_).
STD_FPREFIX(exists)(X) :- STD_FPREFIX(sub)(_,X).

STD_FPREFIX(exists)(X) :-
	STD_FPREFIX(fd)(_,M,_),
	M =.. [_|L],
	member(X,L).

STD_FPREFIX(exists)(X) :-
	STD_FPREFIX(mvd)(_,M,_),
	M =.. [_|L],
	member(X,L).

STD_FPREFIX(exists)(X) :-
	STD_FPREFIX(ifd)(_,M,_),
	M =.. [_|L],
	member(X,L).

STD_FPREFIX(exists)(X) :-
	STD_FPREFIX(imvd)(_,M,_),
	M =.. [_|L],
	member(X,L).


STD_FPREFIX(mvd)(O,M) :- STD_FPREFIX(mvd)(O,M,_).

STD_FPREFIX(imvd)(O,M) :- STD_FPREFIX(imvd)(O,M,_).


/*****************************************************************************
  rules for flattened path expressions on RHS
*****************************************************************************/
:- table STD_FPREFIX(fd_rhs)/3.
:- table STD_FPREFIX(mvd_rhs)/3.
:- table STD_FPREFIX(ifd_rhs)/3.
:- table STD_FPREFIX(imvd_rhs)/3.
:- table STD_FPREFIX(mvd_rhs)/2.
:- table STD_FPREFIX(imvd_rhs)/2.
:- table STD_FPREFIX(isa_rhs)/2.
:- table STD_FPREFIX(sub_rhs)/2.
:- table STD_FPREFIX(fs_rhs)/3.
:- table STD_FPREFIX(mvs_rhs)/3.


/****************************************************************************/
STD_FPREFIX(fd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(fd)(Object,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(fd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(fd)(O,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(fd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(fd)(Object,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(fd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(fd)(O,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

/****************************************************************************/
STD_FPREFIX(mvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(mvd)(Object,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(mvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(mvd)(O,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(mvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(mvd)(Object,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(mvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(mvd)(O,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

/****************************************************************************/
STD_FPREFIX(ifd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(ifd)(Object,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(ifd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(ifd)(O,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(ifd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(ifd)(Object,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(ifd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(ifd)(O,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

/****************************************************************************/
STD_FPREFIX(imvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(imvd)(Object,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(imvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(imvd)(O,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(imvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(imvd)(Object,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(imvd_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(imvd)(O,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

/****************************************************************************/
STD_FPREFIX(mvd_rhs)(Object,Method) :-
	STD_FPREFIX(mvd)(Object,M),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(mvd_rhs)(Object,Method) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(mvd)(O,M),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

/****************************************************************************/
STD_FPREFIX(imvd_rhs)(Object,Method) :-
	STD_FPREFIX(imvd)(Object,M),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(imvd_rhs)(Object,Method) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(imvd)(O,M),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

/****************************************************************************/
STD_FPREFIX(isa_rhs)(Object1,Object2) :-
	STD_FPREFIX(isa)(Object1,Object2).

STD_FPREFIX(isa_rhs)(Object1,Object2) :-
	STD_FPREFIX(eql)(Object1,O1),
	STD_FPREFIX(isa)(O1,Object2).

STD_FPREFIX(isa_rhs)(Object1,Object2) :-
	STD_FPREFIX(eql)(Object2,O2),
	STD_FPREFIX(isa)(Object1,O2).

STD_FPREFIX(isa_rhs)(Object1,Object2) :-
	STD_FPREFIX(eql)(Object1,O1),
	STD_FPREFIX(eql)(Object2,O2),
	STD_FPREFIX(isa)(O1,O2).

/****************************************************************************/
STD_FPREFIX(sub_rhs)(Object1,Object2) :-
	STD_FPREFIX(subclass)(Object1,Object2).

STD_FPREFIX(sub_rhs)(Object1,Object2) :-
	STD_FPREFIX(eql)(Object1,O1),
	STD_FPREFIX(subclass)(O1,Object2).

STD_FPREFIX(sub_rhs)(Object1,Object2) :-
	STD_FPREFIX(eql)(Object2,O2),
	STD_FPREFIX(subclass)(Object1,O2).

STD_FPREFIX(sub_rhs)(Object1,Object2) :-
	STD_FPREFIX(eql)(Object1,O1),
	STD_FPREFIX(eql)(Object2,O2),
	STD_FPREFIX(subclass)(O1,O2).

/****************************************************************************/
STD_FPREFIX(fs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(fs)(Object,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(fs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(fs)(O,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(fs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(fs)(Object,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(fs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(fs)(O,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

/****************************************************************************/
STD_FPREFIX(mvs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(mvs)(Object,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(mvs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(mvs)(O,M,Result),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(mvs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(mvs)(Object,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).

STD_FPREFIX(mvs_rhs)(Object,Method,Result) :-
	STD_FPREFIX(eql)(Result,R),
	STD_FPREFIX(eql)(Object,O),
	STD_FPREFIX(mvs)(O,M,R),
	(M=Method ; STD_FPREFIX(metheql)(M,Method)).


/****************************  End of Trailer  ******************************/

