:- import member/2 from basics.

/*
p_or_q \subseteq (p or q)
p_or_q \subseteq r

first \subseteq second

****/

%-----------
% Ex 1 

first(callback).
third(X):- known(second(X)).
fifth(X):- known(fourth(X)).

definedClass(first(Obj),first,Obj):- Obj = callback.
definedClass(second(Obj),second,Obj):- Obj = callback.
definedClass(third(Obj),third,Obj):- Obj = callback.
definedClass(fourth(Obj),fourth,Obj):- Obj = callback.
definedClass(fifth(Obj),fifth,Obj):- Obj = callback.

%-----------
% Ex 2
% win1 \subset not(win2)
% win3 \subset not(win4)

win1(tok).
win3(tok):- dlnot(win2(tok)).
win5(tok):- dlnot(win4(tok)).

definedClass(win1(Obj),win1,Obj):- Obj = tok.
definedClass(win2(Obj),win2,Obj):- Obj = tok.
definedClass(win3(Obj),win3,Obj):- Obj = tok.
definedClass(win4(Obj),win4,Obj):- Obj = tok.
definedClass(win5(Obj),win5,Obj):- Obj = tok.

%-----------
% Ex 3

l1(ab):- dlnot(l2(ab)).
l2(ab):- dlnot(l1(ab)).

definedClass(l1(Obj),l1,Obj):- Obj = ab.
definedClass(l2(Obj),l2,Obj):- Obj = ab.

%-----------
% Ex 4
% p \in not(two4).

one4(X):- known(p4(a4)),dlnot(two4(X)).
two4(X):- known(p4(a4)),dlnot(one4(X)).

p4(a4).

definedClass(p4(X),p4,X):- X = a4.
definedClass(two4(X),two4,X):- X = a4.
definedClass(one4(X),one4,X):- X = a4.

%-----------
% Ex 5 (not yet working)
% p_or_q \subset (p \cup q)
% r \subset not (p \cup q)

p5(a5).

definedClass(p5(X),p5,X):- X = a5.
definedClass(q5(X),q5,X):- X = a5.
definedClass(p_or_q5(X),p_or_q5,X):- X = a5.
definedClass(r5(X),r5,X):- X = a5.

%-----------
% Ex 6

% NaturalDeath ⊑ Pay
% Suicide ⊑ ¬Pay (cheating here)
/*
pay(X):- known(murdered(X)),known(benefits(X,Y)),dlnot(responsible(Y,X)).
suicide(X):- dlnot(naturalDeath(X)),dlnot(murdered(X)).
murdered(X):- dlnot(naturalDeath(X)),dlnot(suicide(X)).

murdered(j2).
responsible(max,j2).
benefits(j2,thomas).

murdered(j3).
responsible(max,j3).
benefits(j3,max).

definedClass(pay(X),pay,X):- member(X,[j1,j2,j3,max,thomas]).
definedClass(suicide(X),suicide,X):- member(X,[j1,j2,j3,max,thomas]).
definedClass(murdered(X),murdered,X):- member(X,[j1,j2,j3,max,thomas]).
definedClass(benefits(X),benefits,X):- member(X,[j1,j2,j3,max,thomas]).
definedClass(responsible(X),responsible,X):- member(X,[j1,j2,j3,max,thomas]).
*/

%-----------
% example w. multiple objects.

first1(cb1).
first2(cb2):- known(first1(cb1)).
first3(cb1):- known(first2(cb2)).

/*
definedClass(loop1(Obj),loop1,Obj):- Obj = abd.
definedClass(loop2(Obj),loop2,Obj):- Obj = abd.

*/

test:- 
       test_call(k(fifth(callback)),get_object_model(oid(callback,mknf),
                 [entry(known(fifth(callback)),[[]]),
                  entry(known(first(callback)),[[]]),
                  entry(known(fourth(callback)),[[]]),
                  entry(known(second(callback)),[[]]),
		  entry(known(third(callback)),[[]])],
                  [],
                  [entry(allModelsEntails(oid(callback,mknf),cid(fifth,mknf)),[[]]),
 		   entry(allModelsEntails(oid(callback,mknf),cid(first,mknf)),[[]]),
		   entry(allModelsEntails(oid(callback,mknf),cid(fourth,mknf)),[[]]),
 		   entry(allModelsEntails(oid(callback,mknf),cid(second,mknf)),[[]]),
		   entry(allModelsEntails(oid(callback,mknf),cid(third,mknf)),[[]])])),
        
       test_call(k(win5(tok)),get_object_model(oid(tok,mknf),
                 [entry(known(win1(tok)),[[]]),entry(known(win3(tok)),[[]]),
		  entry(known(win5(tok)),[[]])],
		 [entry(dlnot(win2(tok)),[[]]),entry(dlnot(win4(tok)),[[]])],
		 [entry(allModelsEntails(oid(tok,mknf),not cid(win2,mknf)),[[]]),
		  entry(allModelsEntails(oid(tok,mknf),not cid(win4,mknf)),[[]]),
		  entry(allModelsEntails(oid(tok,mknf),cid(win1,mknf)),[[]]),
		  entry(allModelsEntails(oid(tok,mknf),cid(win3,mknf)),[[]]),
		  entry(allModelsEntails(oid(tok,mknf),cid(win5,mknf)),[[]])])),

%         test_call(k(l1(ab)),get_object_model(oid(ab,mknf),
%          [entry(known(l1(ab),3),[[dlnot(l2(ab),3)],[allModelsEntails(oid(ab,mknf),cid(l1,mknf),2)]]),
%	   entry(known(l2(ab),3),[[dlnot(l1(ab),3)],[allModelsEntails(oid(ab,mknf),cid(l2,mknf),2)]])],
%         [entry(dlnot(l1(ab),3),[[tnot(known(l1(ab),3))]]),
%          entry(dlnot(l2(ab),3),[[tnot(known(l2(ab),3))]])],
%	 [entry(allModelsEntails(oid(ab,mknf),cid(l1,mknf),3),[[known(l1(ab),2),known(l2(ab),2)]]),
%          entry(allModelsEntails(oid(ab,mknf),cid(l2,mknf),3),[[known(l1(ab),2),known(l2(ab),2)]])])).

       test_call(k(l1(ab)),get_object_model(oid(ab,mknf),
          [entry(known(l1(ab)),[[dlnot(l2(ab))]]),
	   entry(known(l2(ab)),[[dlnot(l1(ab))]])],
         [entry(dlnot(l1(ab)),[[tnot(known(l1(ab)))]]),
          entry(dlnot(l2(ab)),[[tnot(known(l2(ab)))]])],
	 [])),

	 test_call(k(one4(a4)),get_object_model(oid(a4,mknf),
	   [entry(known(one4(a4)),[[]]),entry(known(p4(a4)),[[]])],
	   [entry(dlnot(two4(a4)),[[]])],
	   [entry(allModelsEntails(oid(a4,mknf),not cid(two4,mknf)),[[]]),
            entry(allModelsEntails(oid(a4,mknf),cid(one4,mknf)),[[]]),
            entry(allModelsEntails(oid(a4,mknf),cid(p4,mknf)),[[]])])).


end_of_file.






