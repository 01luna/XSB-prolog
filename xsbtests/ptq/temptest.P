
:- tabled(s/2).


s(A,B):- s1(A,B).
s(A,B):- 
	s(A1,B1),
	delete(g(C),B1,B),
	A = f(A1,g(C)).

delete(X,[X|L],L).
delete(X,[Y|L0],[Y|L1]) :- delete(X,L0,L1).

s1(foo,[g(1),g(2)]).

