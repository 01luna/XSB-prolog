/* This demo shows the use of the method meta variable. */

:- import length/2 from basics.

o1[m1@(a1) -> r1].
o1[m2@(b1,b2) -> r2].
o1[m3 -> r3].
o1[m4@(c1,c2,c3) -> r4].

o2[@M->R] :-
	o1[@M->R],
	@M =.. [Meth|Args],
	length(Args,2).

tst1 :- X[@M -> R], @M=..N,
	write(X), write(' '), write(N), write(' '), writeln(R), fail.
tst1.

tst2 :- o2[@M -> R], @M=..N, write(N), write(' '), writeln(R), fail.
tst2.

test :- tell(temp), tst1, tst2, told.

